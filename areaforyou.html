<!DOCTYPE html>
<html lang="en">
<head>
  <!-- dans le <head> -->

    
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Area For You - Multi Chat</title>
  <link rel="stylesheet" href="styles/areaforyou.css">
  <link rel="stylesheet" href="styles/accueil.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
</head>
<body>

  

  
<div class="header2">
  <div class="burger" id="burgerMenu">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <a href="accueil.html"><img class="logo" src="styles/photo/logo2.png" alt="PropInDubai Logo"></a>




<div class="all-button">
  <a href="areaforyou.html" class="chat-button header-btn">Chat Property AI</a>
  
  <div class="dropdown header-btn" id="buyDropdown">
    <a href="buy.html" class="buy-button header-btn" id="mainBuyBtn" tabindex="0">Buy <span class="arrow">&#9660;</span></a>
    <div class="dropdown-content" id="dropdownContent">
        <a href="buy.html" data-link="buy.html" class="dropdown-option">Buy</a>
      <a href="rent.html" data-link="rent.html" class="dropdown-option">Rent</a>
      <a href="commercial.html" data-link="commercial.html" class="dropdown-option">Commercial</a>
    </div>  
  </div>
  
  <!-- Mobile version, hidden by default, visible only in mobile via CSS -->
<div class="mobile-buy-menu" style="display: none;">
  <a href="buy.html">Buy</a>
  <a href="rent.html">Rent</a>
  <a href="commercial.html">Commercial</a>
</div>




  <a href="off-plan-map.html" class="project-button header-btn">Off Plan</a>

  <a href="maps.html" class="map-button header-btn">Map</a>
  <a href="findagent.html" class="agent-button header-btn">Find agents</a>
</div>




  
  <div class="profil-block">
    <a href="login.html" class="login-button header-btn">Login</a>
  </div>
</div>

<div class="main-layout">
  <div class="multi-sidebar">
    <div class="multi-logo">
      <i class="fa fa-comments"></i>
    </div>
    
    <button class="multi-new-chat-btn" id="new-chat-btn">
      <i class="fa fa-plus"></i> New chat
    </button>


    <div id="chat-list" class="multi-chat-list"></div>
    <div class="multi-shortcuts">
      <button class="sidebar-btn active"><i class="fa fa-home"></i></button>
      <button class="sidebar-btn"><i class="fa fa-heart"></i></button>
    </div>
  </div>
  <div class="main-content-v2">
    <div class="content-card-wrap" id="split-mobile-container">

      
      <div class="chat-col-v2" id="chat-col-v2">


      <div class="multi-header">
  <!-- bouton : logo chat + titre -->
  <button class="chat-trigger" id="chatTrigger" type="button">
    <i class="fa fa-comments chat-icon"></i>
    <span id="current-chat-title">Chat</span>
  </button>

  <!-- reset inchangé -->
  <button id="reset-chat-btn" class="multi-reset-btn" title="Reset chat">
    <i class="fa fa-rotate-left"></i>
  </button>
</div>




    <div class="chat-messages-scroll" id="chat-messages-scroll"
     role="log" aria-live="polite" aria-relevant="additions text">
  <div id="chat-messages-container"></div>

  <!-- Bulle "draft" utilisée pendant le streaming -->
  <div id="assistant-draft" class="chat-message-bot" hidden>
    <div class="msg"><span class="typing-caret">▍</span></div>
    <div class="msg-actions">
      <button id="stop-generation" type="button" title="Stop">Stop</button>
    </div>
  </div>
</div>





        <form class="chat-input-form-v2" id="chat-form" autocomplete="off">
          <input type="text" id="user-input" placeholder="Enter a message..." autocomplete="off">
          <button id="send-button" type="submit"><i class="fa fa-arrow-right"></i></button>
        </form>
    
      </div>



      <div class="splitter-bar" id="splitterBar"></div>
      <div class="properties-col-v2" id="properties-col">
        <!-- Les biens et les coeurs sont générés en JS ici -->
        <div id="property-cards-container"></div>
      </div>
    </div>
  </div>
</div>





<!-- Templates messages -->
<template id="tpl-msg-user">
  <div class="chat-message-user"><div class="msg"></div></div>
</template>

<template id="tpl-msg-bot">
  <div class="chat-message-bot">
    <div class="msg"></div>
    <div class="msg-actions">
      <button class="copy-btn" type="button" title="Copy">Copy</button>
    </div>
  </div>
</template>


<!-- Markdown parser + sanitization -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>

<!-- Supabase client -->
<!-- Supabase client (module) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>





<script type="module" src="javascript/supabaseClient.js"></script>

<!-- Page logic (classique) -->
<script src="javascript/areaforyou.js"></script>

<!-- ScrollReveal (optionnel) -->
<script src="https://unpkg.com/scrollreveal"></script>
</body>
</html>
