:root{
  --brand:#f17100; --brand-2:#d85e00;
  --text:#111; --muted:#666; --line:#e9e9e9;
  --radius:16px; --shadow:0 12px 28px rgba(0,0,0,.06);
}

*{ box-sizing:border-box; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; }
html,body{ margin:0; background:#fff; color:var(--text); }

.ps-page{ min-height:100dvh; display:flex; align-items:center; justify-content:center; padding:clamp(16px,4vw,32px); }
.ps-card{ width:100%; max-width:960px; background:#fff; border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); padding:clamp(18px,4vw,28px); }

.ps-head h1{ margin:0 0 6px; font-size:1.9rem; font-weight:800; }
.ps-head p{ margin:0 0 14px; color:var(--muted); }

.ps-alert{ display:none; margin:12px 0; padding:10px 12px; border-radius:12px; border:1px solid #ffd9b8; background:#fff7f0; color:#7a3c00; }
.ps-alert.show{ display:block; }

.ps-steps{ display:flex; gap:8px; margin:6px 0 16px; }
.step{ border:1px solid var(--line); background:#fff; padding:8px 12px; border-radius:999px; cursor:default; font-weight:700; color:#444; }
.step.active{ border-color:var(--brand); background:rgba(241,113,0,.08); color:#000; }

.ps-form .section{ border:1px solid var(--line); border-radius:14px; padding:16px; margin-bottom:12px; }
.ps-form h2{ margin:0 0 10px; font-size:1.15rem; }

.grid{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
.fg{ display:grid; gap:6px; }
.fg.full{ grid-column:1 / -1; }
.label, label{ font-weight:700; }
.input{ width:100%; padding:12px 14px; border:1px solid var(--line); border-radius:12px; outline:none; }
.input:focus{ border-color:var(--brand); box-shadow:0 0 0 3px rgba(241,113,0,.12); }
.checkbox{ display:flex; align-items:center; gap:8px; font-weight:700; }

.ps-actions{ display:flex; justify-content:flex-end; gap:10px; margin-top:10px; }
.btn{ border-radius:12px; padding:12px 16px; border:1px solid transparent; font-weight:800; cursor:pointer; }
.btn-primary{ background:var(--brand); color:#fff; }
.btn-primary:hover{ background:var(--brand-2); }
.btn-ghost{ background:#fff; border:1px solid var(--line); }

/* Avatar & Logo rows */
.avatar-row, .logo-row{ display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-bottom:12px; }
.avatar{ width:96px; height:96px; border-radius:999px; background:#fafafa; border:1px solid var(--line); position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; }
.avatar img{ width:100%; height:100%; object-fit:cover; display:none; }
.avatar-blank{ color:#999; font-weight:800; }
.logo-box{ width:140px; height:88px; border-radius:14px; background:#fafafa; border:1px solid var(--line); position:relative; overflow:hidden; display:flex; align-items:center; justify-content:center; }
.logo-box img{ max-width:100%; max-height:100%; display:none; }
.logo-blank{ color:#999; font-weight:800; }

.dropzone{ border:2px dashed var(--line); border-radius:14px; padding:14px; text-align:center; }
.dropzone.dragover{ border-color:var(--brand); background:rgba(241,113,0,.06); }
.linklike{ background:none; border:none; color:var(--brand); text-decoration:underline; cursor:pointer; padding:0; }

@media (max-width:780px){
  .grid{ grid-template-columns: 1fr; }
}



.dropzone.uploading { opacity: .7; pointer-events: none; }
/* add to styles/profile-setup.css */
.dropzone.locked { opacity: .85; pointer-events: none; }
.dropzone.locked .linklike { pointer-events: auto; } /* keep "Remove" clickable */



/* Avatar et logo: ronds visibles et "au-dessus" */
.avatar, .logo-box{
  position: relative;
  z-index: 2;                /* passe devant tout */
  width: 96px;
  height: 96px;
  border-radius: 50%;
  overflow: hidden;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
}

#avatarPreview, #logoPreview{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: none;             /* on l’affiche quand l’image est chargée */
}

#avatarBlank, #logoBlank{
  display: flex;
  align-items: center;
  justify-content: center;
  color: #8d8d8d;
  font-weight: 600;
}

/* La dropzone reste à sa place et ne couvre pas l’avatar */
.dropzone{
  position: relative;
  z-index: 1;                /* derrière l’avatar */
}

/* Feedback visuel optionnel */
.dropzone.uploading{ outline: 2px dashed #f17100; }
.dropzone.locked{ opacity: .7; pointer-events: none; }



/* 1) Crée un contexte pour gérer les z-index proprement */
.ps-card { position: relative; }

/* 2) Les actions doivent toujours passer au-dessus de tout */
.ps-actions{
  position: sticky;     /* ou relative si tu préfères */
  bottom: 0;
  z-index: 100;         /* plus haut que la dropzone */
  background: #fff;     /* évite que ça se voie à travers */
}

/* 3) La dropzone ne doit jamais capter des clics en dehors d’elle */
.dropzone{ position: relative; z-index: 1; }
.dropzone::before,
.dropzone::after{ pointer-events: none !important; }  /* si tu utilises des pseudo-éléments */

/* 4) Quand on “lock” la dropzone, on laisse quand même cliquer le bouton Remove,
      mais on n’empêche PAS les clics ailleurs sur la page */
.dropzone.locked{ opacity:.85; }
.dropzone.locked { pointer-events: auto; }     /* <-- remplace ton pointer-events:none global */
.dropzone.locked .linklike{ pointer-events: auto; }

/* 5) Sécurité : l’avatar/le logo ne créent pas d’overlay géant */
.avatar-row, .logo-row { position: relative; z-index: 1; overflow: visible; }
