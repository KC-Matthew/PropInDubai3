<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Complete your profile – PropInDubai</title>

  <!-- global CSS -->
  <link rel="stylesheet" href="styles/header-acceuil.css">
  <link rel="stylesheet" href="styles/accueil.css">

  <!-- page CSS -->
  <link rel="stylesheet" href="styles/agent-onboarding.css">
</head>
<body>
  <div class="header2">
    <a href="accueil.html"><img class="logo" src="styles/photo/logo2.png" alt="PropInDubai"></a>
  </div>

  <main class="ps-page">
    <section class="ps-card">
      <header class="ps-head">
        <h1>Complete your profile</h1>
        <p>We’ll use this information to build your public agent page.</p>
      </header>

      <div id="psAlert" class="ps-alert" role="status" aria-live="polite"></div>

      <div class="ps-steps" role="tablist" aria-label="Profile steps">
        <button class="step active" data-step="1" role="tab" aria-selected="true">Agent</button>
        <button class="step active" data-step="2" role="tab" aria-selected="false">Agency</button>
      </div>

      <!-- STEP 1: AGENT -->
      <form id="formAgent" class="ps-form" autocomplete="on">
        <div class="section">
          <h2>Agent details</h2>

          <div class="avatar-row">
            <div class="avatar">
              <img id="avatarPreview" alt="Profile picture preview" style="display:none;">
              <div class="avatar-blank" id="avatarBlank">PP</div>
            </div>
            <div class="avatar-actions">
              <label class="label">Profile picture</label>
              <div class="dropzone" id="dzProfilePicture" data-type="agent-picture">
                <input id="fileProfilePicture" type="file" accept="image/*" hidden>
                <p>
                  Drag & drop an image here, or
                  <label for="fileProfilePicture" class="linklike">browse</label>
                </p>
                <small>JPG/PNG, up to 5 MB.</small>
              </div>
            </div>
          </div>

          <div class="grid">
            <div class="fg">
              <label for="ag_name">Full name *</label>
              <input id="ag_name" class="input" required placeholder="John Doe" autocomplete="name">
            </div>
            <div class="fg">
              <label for="ag_email">Email *</label>
              <input id="ag_email" type="email" class="input" required placeholder="agent@email.com" autocomplete="email">
            </div>
            <div class="fg">
              <label for="ag_phone">Phone *</label>
              <input id="ag_phone" class="input" required placeholder="+971 ..." autocomplete="tel">
            </div>
            <div class="fg">
              <label for="ag_whatsapp">WhatsApp</label>
              <input id="ag_whatsapp" class="input" placeholder="+971 ...">
            </div>
            <div class="fg">
              <label for="ag_nationality">Nationality</label>
              <input id="ag_nationality" class="input" placeholder="French">
            </div>
            <div class="fg">
              <label for="ag_languages">Languages</label>
              <input id="ag_languages" class="input" placeholder="English, French, Arabic">
            </div>
            <div class="fg full">
              <label for="ag_about">About you</label>
              <textarea id="ag_about" class="input" rows="3" placeholder="A short bio to introduce yourself."></textarea>
            </div>
          </div>
        </div>
      </form>

      <!-- STEP 2: AGENCY -->
      <form id="formAgency" class="ps-form hidden" autocomplete="on">
        <div class="section">
          <h2>Agency</h2>

          <div class="logo-row">
            <div class="logo-box" id="logoBox">
              <img id="logoPreview" alt="Agency logo preview" style="display:none;">
              <div class="logo-blank" id="logoBlank">Logo</div>
            </div>
            <div class="logo-actions">
              <label class="label">Agency logo</label>
              <div class="dropzone" id="dzAgencyLogo" data-type="agency-logo">
                <input id="fileAgencyLogo" type="file" accept="image/*" hidden>
                <p>
                  Drag & drop a logo here, or
                  <label for="fileAgencyLogo" class="linklike">browse</label>
                </p>
                <small>SVG/PNG/JPG, up to 3 MB.</small>
              </div>
            </div>
          </div>

          <div class="grid">
            <div class="fg">
              <label for="agc_name">Agency name *</label>
              <input id="agc_name" class="input" required placeholder="">
            </div>
            <div class="fg">
              <label for="agc_address">Address</label>
              <input id="agc_address" class="input" placeholder="">
            </div>
            <div class="fg full">
              <label for="agc_about">About the agency</label>
              <textarea id="agc_about" class="input" rows="3" placeholder="Short description of your agency."></textarea>
            </div>
          </div>
        </div>

        <div class="ps-actions">
          <button type="button" id="backToAgent" class="btn btn-ghost">Back</button>
          <button type="submit" class="btn btn-primary">Save profile</button>
        </div>
      </form>
    </section>
  </main>

  <script type="module" src="javascript/supabaseClient.js"></script>
  <script type="module" src="javascript/agent-onboarding.js"></script>
</body>
</html>


